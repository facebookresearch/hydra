defaults:
  - ray_aws

env_setup:
  commands:
    - >-
      conda create -n hydra_${python_version:micro}
      python=${python_version:micro} -y
    - >-
      echo 'export
      PATH="$HOME/anaconda3/envs/hydra_${python_version:micro}/bin:$PATH"'
      >> ~/.bashrc
    - >-
      pip install
      git+https://github.com/icgrp/hydra.git@ray-cluster-sdk#egg=hydra-core
    - >-
      pip install
      git+https://github.com/icgrp/hydra.git@ray-cluster-sdk#egg=hydra-ray-launcher\&subdirectory=plugins/hydra_ray_launcher
  pip_packages:
    cloudpickle: '${ray_pkg_version:cloudpickle}'
    hydra_core: null
    hydra_ray_launcher: null
    omegaconf: '${ray_pkg_version:omegaconf}'
    pickle5: 0.0.11
    ray: '${ray_pkg_version:ray}'
ray:
  cluster:
    auth:
      ssh_user: ubuntu

