"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[753],{28453:(e,n,o)=>{o.d(n,{R:()=>l,x:()=>a});var t=o(96540);const i={},s=t.createContext(i);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(s.Provider,{value:n},e.children)}},94727:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"tutorial/defaults","title":"Defaults","description":"After office politics, you decide that you want to use MySQL by default.","source":"@site/versioned_docs/version-0.11/tutorial/4_defaults.md","sourceDirName":"tutorial","slug":"/tutorial/defaults","permalink":"/docs/0.11/tutorial/defaults","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/versioned_docs/version-0.11/tutorial/4_defaults.md","tags":[],"version":"0.11","lastUpdatedBy":"jesszzzz","lastUpdatedAt":1754330894000,"sidebarPosition":4,"frontMatter":{"id":"defaults","title":"Defaults","sidebar_label":"Defaults"},"sidebar":"docs","previous":{"title":"Config groups","permalink":"/docs/0.11/tutorial/config_groups"},"next":{"title":"Config composition","permalink":"/docs/0.11/tutorial/composition"}}');var i=o(74848),s=o(28453);const l={id:"defaults",title:"Defaults",sidebar_label:"Defaults"},a=void 0,r={},d=[{value:"Config group defaults",id:"config-group-defaults",level:2},{value:"Overriding a config group default",id:"overriding-a-config-group-default",level:3},{value:"Non-config group defaults",id:"non-config-group-defaults",level:2}];function c(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["After office politics, you decide that you want to use MySQL by default.\nYou no longer want to type ",(0,i.jsx)(n.code,{children:"db=mysql"})," every time you run your application."]}),"\n",(0,i.jsxs)(n.p,{children:["You can add a ",(0,i.jsx)(n.code,{children:"defaults"})," list into your config file."]}),"\n",(0,i.jsx)(n.h2,{id:"config-group-defaults",children:"Config group defaults"}),"\n",(0,i.jsxs)(n.p,{children:["Configuration file: ",(0,i.jsx)(n.code,{children:"config.yaml"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"defaults:\n  - db: mysql\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Remember to specify ",(0,i.jsx)(n.code,{children:"config.yaml"})," as the ",(0,i.jsx)(n.code,{children:"config_path"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"@hydra.main(config_path='conf/config.yaml')\ndef my_app(cfg):\n    print(OmegaConf.to_yaml(cfg))\n"})}),"\n",(0,i.jsx)(n.p,{children:"When you run the updated application, MySQL is loaded by default."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"$ python my_app.py\ndb:\n  driver: mysql\n  pass: secret\n  user: omry\n"})}),"\n",(0,i.jsx)(n.h3,{id:"overriding-a-config-group-default",children:"Overriding a config group default"}),"\n",(0,i.jsx)(n.p,{children:"You can still load PostgreSQL, and override individual values."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"$ python my_app.py db=postgresql db.timeout=20\ndb:\n  driver: postgresql\n  pass: drowssap\n  timeout: 20\n  user: postgres_user\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can prevent a default from being loaded by assigning ",(0,i.jsx)(n.code,{children:"null"})," to it in the command line:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"$ python my_app.py db=null\n{}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"non-config-group-defaults",children:"Non-config group defaults"}),"\n",(0,i.jsxs)(n.p,{children:["Sometimes a config file you want to merge does not belong in any config group.\nThe following will load ",(0,i.jsx)(n.code,{children:"some_file.yaml"})," from your config directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"defaults:\n  - some_file\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Config files that not a part of a ",(0,i.jsx)(n.code,{children:"config group"})," like ",(0,i.jsx)(n.code,{children:"db"})," cannot be overridden."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);