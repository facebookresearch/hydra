"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7663],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},49595:(e,n,t)=>{t.d(n,{A:()=>l,C:()=>d});t(96540);var i=t(28774),s=t(44586),o=t(48295),r=t(74848);function a(e){const n=(0,o.ir)();return(0,s.default)().siteConfig.customFields.githubLinkVersionToBaseUrl[n?.name??"current"]+e}function l(e){return(0,r.jsx)(i.default,{...e,to:a(e.to),target:"_blank"})}function d(e){const n=e.text??"Example (Click Here)";return(0,r.jsxs)(l,{...e,children:[(0,r.jsx)("span",{children:"\xa0"}),(0,r.jsx)("img",{src:"https://img.shields.io/badge/-"+n+"-informational",alt:"Example (Click Here)"})]})}},75158:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>f,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tutorials/basic/your_first_app/defaults","title":"Selecting defaults for config groups","description":"After office politics, you decide that you want to use MySQL by default.","source":"@site/versioned_docs/version-1.0/tutorials/basic/your_first_app/5_defaults.md","sourceDirName":"tutorials/basic/your_first_app","slug":"/tutorials/basic/your_first_app/defaults","permalink":"/docs/1.0/tutorials/basic/your_first_app/defaults","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/versioned_docs/version-1.0/tutorials/basic/your_first_app/5_defaults.md","tags":[],"version":"1.0","lastUpdatedBy":"jesszzzz","lastUpdatedAt":1754413947000,"sidebarPosition":5,"frontMatter":{"id":"defaults","title":"Selecting defaults for config groups"},"sidebar":"docs","previous":{"title":"Grouping config files","permalink":"/docs/1.0/tutorials/basic/your_first_app/config_groups"},"next":{"title":"Putting it all together","permalink":"/docs/1.0/tutorials/basic/your_first_app/composition"}}');var s=t(74848),o=t(28453),r=t(49595);const a={id:"defaults",title:"Selecting defaults for config groups"},l=void 0,d={},c=[{value:"Config group defaults",id:"config-group-defaults",level:2},{value:"Overriding a config group default",id:"overriding-a-config-group-default",level:3},{value:"Non-config group defaults",id:"non-config-group-defaults",level:2}];function u(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.C,{to:"examples/tutorials/basic/your_first_hydra_app/5_defaults"}),"\n",(0,s.jsxs)(n.p,{children:["After office politics, you decide that you want to use MySQL by default.\nYou no longer want to type ",(0,s.jsx)(n.code,{children:"+db=mysql"})," every time you run your application."]}),"\n",(0,s.jsxs)(n.p,{children:["You can add a ",(0,s.jsx)(n.code,{children:"defaults"})," list into your config file."]}),"\n",(0,s.jsx)(n.h2,{id:"config-group-defaults",children:"Config group defaults"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="config.yaml"',children:"defaults:\n  - db: mysql\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Remember to specify the ",(0,s.jsx)(n.code,{children:"config_name"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'@hydra.main(config_path="conf", config_name="config")\ndef my_app(cfg: DictConfig) -> None:\n    print(OmegaConf.to_yaml(cfg))\n'})}),"\n",(0,s.jsx)(n.p,{children:"When you run the updated application, MySQL is loaded by default."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"$ python my_app.py\ndb:\n  driver: mysql\n  pass: secret\n  user: omry\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can have multiple items in the defaults list, e.g"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"defaults:\n - db: mysql\n - db/mysql/storage_engine: innodb\n"})}),"\n",(0,s.jsx)(n.p,{children:"The defaults are ordered:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If multiple configs define the same value, the last one wins."}),"\n",(0,s.jsx)(n.li,{children:"If multiple configs contribute to the same dictionary, the result is the combined dictionary."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"overriding-a-config-group-default",children:"Overriding a config group default"}),"\n",(0,s.jsx)(n.p,{children:"You can still load PostgreSQL, and override individual values."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"$ python my_app.py db=postgresql db.timeout=20\ndb:\n  driver: postgresql\n  pass: drowssap\n  timeout: 20\n  user: postgres_user\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can remove a default entry from the defaults list by prefixing it with ~:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"$ python my_app.py ~db\n{}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"non-config-group-defaults",children:"Non-config group defaults"}),"\n",(0,s.jsxs)(n.p,{children:["Sometimes a config file does not belong in any config group.\nYou can still load it by default. Here is an example for ",(0,s.jsx)(n.code,{children:"some_file.yaml"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"defaults:\n  - some_file\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Config files that are not part of a config group will always be loaded. They cannot be overridden.",(0,s.jsx)(n.br,{}),"\n","Prefer using a config group."]})]})}function f(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);