"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4952],{9432:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"plugins/joblib_launcher","title":"Joblib Launcher plugin","description":"PyPI","source":"@site/docs/plugins/joblib_launcher.md","sourceDirName":"plugins","slug":"/plugins/joblib_launcher","permalink":"/docs/plugins/joblib_launcher","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/docs/plugins/joblib_launcher.md","tags":[],"version":"current","lastUpdatedBy":"Ryan Soklaski","lastUpdatedAt":1761324871000,"frontMatter":{"id":"joblib_launcher","title":"Joblib Launcher plugin","sidebar_label":"Joblib Launcher plugin"},"sidebar":"docs","previous":{"title":"Colorlog plugin","permalink":"/docs/plugins/colorlog"},"next":{"title":"Ray Launcher plugin","permalink":"/docs/plugins/ray_launcher"}}');var a=l(74848),r=l(28453),s=l(49595);const t={id:"joblib_launcher",title:"Joblib Launcher plugin",sidebar_label:"Joblib Launcher plugin"},o=void 0,c={},h=[{value:"Installation",id:"installation",level:3},{value:"Usage",id:"usage",level:3}];function d(e){const n={a:"a",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://pypi.org/project/hydra-joblib-launcher/",children:(0,a.jsx)(n.img,{src:"https://img.shields.io/pypi/v/hydra-joblib-launcher",alt:"PyPI"})}),"\n",(0,a.jsx)(n.img,{src:"https://img.shields.io/pypi/l/hydra-joblib-launcher",alt:"PyPI - License"}),"\n",(0,a.jsx)(n.img,{src:"https://img.shields.io/pypi/pyversions/hydra-joblib-launcher",alt:"PyPI - Python Version"}),"\n",(0,a.jsx)(n.a,{href:"https://pypistats.org/packages/hydra-joblib-launcher",children:(0,a.jsx)(n.img,{src:"https://img.shields.io/pypi/dm/hydra-joblib-launcher.svg",alt:"PyPI - Downloads"})}),(0,a.jsx)(s.C,{text:"Example application",to:"plugins/hydra_joblib_launcher/example"}),(0,a.jsx)(s.C,{text:"Plugin source",to:"plugins/hydra_joblib_launcher"})]}),"\n",(0,a.jsxs)(n.p,{children:["The Joblib Launcher plugin provides a launcher for parallel tasks based on ",(0,a.jsx)(n.a,{href:"https://joblib.readthedocs.io/en/latest/parallel.html",children:(0,a.jsx)(n.code,{children:"Joblib.Parallel"})}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-commandline",children:"pip install hydra-joblib-launcher --upgrade\n"})}),"\n",(0,a.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,a.jsxs)(n.p,{children:["Once installed, add ",(0,a.jsx)(n.code,{children:"hydra/launcher=joblib"})," to your command line. Alternatively, override ",(0,a.jsx)(n.code,{children:"hydra/launcher"})," in your config:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"defaults:\n  - override hydra/launcher: joblib\n"})}),"\n",(0,a.jsx)(n.p,{children:"By default, process-based parallelism using all available CPU cores is used. By overriding the default configuration, it is e.g. possible limit the number of parallel executions."}),"\n",(0,a.jsxs)(n.p,{children:["The JobLibLauncherConf backing the config is defined ",(0,a.jsx)(s.A,{to:"plugins/hydra_joblib_launcher/hydra_plugins/hydra_joblib_launcher/config.py",children:"here"}),":"]}),"\n",(0,a.jsx)(n.p,{children:"You can discover the Joblib Launcher parameters with:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="$ python your_app.py hydra/launcher=joblib --cfg hydra -p hydra.launcher"',children:"# @package hydra.launcher\n_target_: hydra_plugins.hydra_joblib_launcher.joblib_launcher.JoblibLauncher\nn_jobs: 10\nbackend: null\nprefer: processes\nrequire: null\nverbose: 0\ntimeout: null\npre_dispatch: 2*n_jobs\nbatch_size: auto\ntemp_folder: null\nmax_nbytes: null\nmmap_mode: r\n"})}),"\n",(0,a.jsxs)(n.p,{children:["There are several standard approaches for configuring plugins. Check ",(0,a.jsx)(n.a,{href:"/docs/patterns/configuring_plugins",children:"this page"})," for more information."]}),"\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsxs)(n.a,{href:"https://joblib.readthedocs.io/en/latest/parallel.html",children:[(0,a.jsx)(n.code,{children:"Joblib.Parallel"})," documentation"]})," for full details about the parameters above."]}),"\n",(0,a.jsx)("div",{class:"alert alert--info",role:"alert",children:(0,a.jsx)(n.p,{children:"NOTE: The only supported JobLib backend is Loky (process-based parallelism)."})}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsxs)(n.p,{children:["An ",(0,a.jsx)(s.A,{to:"plugins/hydra_joblib_launcher/example",children:"example application"})," using this launcher is provided in the plugin repository."]}),"\n",(0,a.jsxs)(n.p,{children:["Starting the app with ",(0,a.jsx)(n.code,{children:"python my_app.py --multirun task=1,2,3,4,5"})," will launch five parallel executions:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"$ python my_app.py --multirun task=1,2,3,4,5\n[HYDRA] Joblib.Parallel(n_jobs=-1,verbose=0,timeout=None,pre_dispatch=2*n_jobs,batch_size=auto,temp_folder=None,max_nbytes=None,mmap_mode=r,backend=loky) is launching 5 jobs\n[HYDRA] Launching jobs, sweep output dir : multirun/2020-02-18/10-00-00\n[__main__][INFO] - Process ID 14336 executing task 2 ...\n[__main__][INFO] - Process ID 14333 executing task 1 ...\n[__main__][INFO] - Process ID 14334 executing task 3 ...\n[__main__][INFO] - Process ID 14335 executing task 4 ...\n[__main__][INFO] - Process ID 14337 executing task 5 ...\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,l)=>{l.d(n,{R:()=>s,x:()=>t});var i=l(96540);const a={},r=i.createContext(a);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},49595:(e,n,l)=>{l.d(n,{A:()=>o,C:()=>c});l(96540);var i=l(28774),a=l(44586),r=l(48295),s=l(74848);function t(e){const n=(0,r.ir)();return(0,a.default)().siteConfig.customFields.githubLinkVersionToBaseUrl[n?.name??"current"]+e}function o(e){return(0,s.jsx)(i.default,{...e,to:t(e.to),target:"_blank"})}function c(e){const n=e.text??"Example (Click Here)";return(0,s.jsxs)(o,{...e,children:[(0,s.jsx)("span",{children:"\xa0"}),(0,s.jsx)("img",{src:"https://img.shields.io/badge/-"+n+"-informational",alt:"Example (Click Here)"})]})}}}]);