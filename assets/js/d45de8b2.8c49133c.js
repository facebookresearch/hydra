"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2539],{28453:(e,n,l)=>{l.d(n,{R:()=>s,x:()=>t});var a=l(96540);const i={},r=a.createContext(i);function s(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(r.Provider,{value:n},e.children)}},39902:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"plugins/joblib_launcher","title":"Joblib Launcher plugin","description":"PyPI","source":"@site/versioned_docs/version-1.0/plugins/joblib_launcher.md","sourceDirName":"plugins","slug":"/plugins/joblib_launcher","permalink":"/docs/1.0/plugins/joblib_launcher","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/versioned_docs/version-1.0/plugins/joblib_launcher.md","tags":[],"version":"1.0","lastUpdatedBy":"Ryan Soklaski","lastUpdatedAt":1761331344000,"frontMatter":{"id":"joblib_launcher","title":"Joblib Launcher plugin","sidebar_label":"Joblib Launcher plugin"},"sidebar":"docs","previous":{"title":"Colorlog plugin","permalink":"/docs/1.0/plugins/colorlog"},"next":{"title":"Ray Launcher plugin","permalink":"/docs/1.0/plugins/ray_launcher"}}');var i=l(74848),r=l(28453);const s={id:"joblib_launcher",title:"Joblib Launcher plugin",sidebar_label:"Joblib Launcher plugin"},t=void 0,o={},c=[{value:"Installation",id:"installation",level:3},{value:"Usage",id:"usage",level:3}];function h(e){const n={a:"a",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://pypi.org/project/hydra-joblib-launcher/",children:(0,i.jsx)(n.img,{src:"https://img.shields.io/pypi/v/hydra-joblib-launcher",alt:"PyPI"})}),"\n",(0,i.jsx)(n.img,{src:"https://img.shields.io/pypi/l/hydra-joblib-launcher",alt:"PyPI - License"}),"\n",(0,i.jsx)(n.img,{src:"https://img.shields.io/pypi/pyversions/hydra-joblib-launcher",alt:"PyPI - Python Version"}),"\n",(0,i.jsx)(n.a,{href:"https://pypistats.org/packages/hydra-joblib-launcher",children:(0,i.jsx)(n.img,{src:"https://img.shields.io/pypi/dm/hydra-joblib-launcher.svg",alt:"PyPI - Downloads"})}),"\n",(0,i.jsx)(n.a,{href:"https://github.com/facebookresearch/hydra/tree/1.0_branch/plugins/hydra_joblib_launcher/example",children:(0,i.jsx)(n.img,{src:"https://img.shields.io/badge/-Example%20application-informational",alt:"Example application"})}),"\n",(0,i.jsx)(n.a,{href:"https://github.com/facebookresearch/hydra/tree/1.0_branch/plugins/hydra_joblib_launcher",children:(0,i.jsx)(n.img,{src:"https://img.shields.io/badge/-Plugin%20source-informational",alt:"Plugin source"})})]}),"\n",(0,i.jsxs)(n.p,{children:["The Joblib Launcher plugin provides a launcher for parallel tasks based on ",(0,i.jsx)(n.a,{href:"https://joblib.readthedocs.io/en/latest/parallel.html",children:(0,i.jsx)(n.code,{children:"Joblib.Parallel"})}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-commandline",children:"pip install hydra-joblib-launcher --upgrade\n"})}),"\n",(0,i.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(n.p,{children:["Once installed, add ",(0,i.jsx)(n.code,{children:"hydra/launcher=joblib"})," to your command line. Alternatively, override ",(0,i.jsx)(n.code,{children:"hydra/launcher"})," in your config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"defaults:\n  - hydra/launcher: joblib\n"})}),"\n",(0,i.jsx)(n.p,{children:"By default, process-based parallelism using all available CPU cores is used. By overriding the default configuration, it is e.g. possible limit the number of parallel executions."}),"\n",(0,i.jsxs)(n.p,{children:["The JobLibLauncherConf backing the config is defined ",(0,i.jsx)(n.a,{href:"https://github.com/facebookresearch/hydra/blob/master/plugins/hydra_joblib_launcher/hydra_plugins/hydra_joblib_launcher/config.py",children:"here"}),":"]}),"\n",(0,i.jsx)(n.p,{children:"You can discover the Joblib Launcher parameters with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="$ python your_app.py hydra/launcher=joblib --cfg hydra -p hydra.launcher"',children:"# @package hydra.launcher\n_target_: hydra_plugins.hydra_joblib_launcher.joblib_launcher.JoblibLauncher\nn_jobs: 10\nbackend: null\nprefer: processes\nrequire: null\nverbose: 0\ntimeout: null\npre_dispatch: 2*n_jobs\nbatch_size: auto\ntemp_folder: null\nmax_nbytes: null\nmmap_mode: r\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsxs)(n.a,{href:"https://joblib.readthedocs.io/en/latest/parallel.html",children:[(0,i.jsx)(n.code,{children:"Joblib.Parallel"})," documentation"]})," for full details about the parameters above."]}),"\n",(0,i.jsx)("div",{class:"alert alert--info",role:"alert",children:(0,i.jsx)(n.p,{children:"NOTE: The only supported JobLib backend is Loky (process-based parallelism)."})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(n.p,{children:["An ",(0,i.jsx)(n.a,{href:"https://github.com/facebookresearch/hydra/tree/1.0_branch/plugins/hydra_joblib_launcher/example",children:"example application"})," using this launcher is provided in the plugin repository."]}),"\n",(0,i.jsxs)(n.p,{children:["Starting the app with ",(0,i.jsx)(n.code,{children:"python my_app.py --multirun task=1,2,3,4,5"})," will launch five parallel executions:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"$ python my_app.py --multirun task=1,2,3,4,5\n[HYDRA] Joblib.Parallel(n_jobs=-1,verbose=0,timeout=None,pre_dispatch=2*n_jobs,batch_size=auto,temp_folder=None,max_nbytes=None,mmap_mode=r,backend=loky) is launching 5 jobs\n[HYDRA] Launching jobs, sweep output dir : multirun/2020-02-18/10-00-00\n[__main__][INFO] - Process ID 14336 executing task 2 ...\n[__main__][INFO] - Process ID 14333 executing task 1 ...\n[__main__][INFO] - Process ID 14334 executing task 3 ...\n[__main__][INFO] - Process ID 14335 executing task 4 ...\n[__main__][INFO] - Process ID 14337 executing task 5 ...\n"})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);