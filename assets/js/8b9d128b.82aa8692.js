"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9089],{28453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>t});var l=i(96540);const s={},a=l.createContext(s);function r(n){const e=l.useContext(a);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),l.createElement(a.Provider,{value:e},n.children)}},49595:(n,e,i)=>{i.d(e,{A:()=>c,C:()=>o});i(96540);var l=i(28774),s=i(44586),a=i(48295),r=i(74848);function t(n){const e=(0,a.ir)();return(0,s.default)().siteConfig.customFields.githubLinkVersionToBaseUrl[e?.name??"current"]+n}function c(n){return(0,r.jsx)(l.default,{...n,to:t(n.to),target:"_blank"})}function o(n){const e=n.text??"Example (Click Here)";return(0,r.jsxs)(c,{...n,children:[(0,r.jsx)("span",{children:"\xa0"}),(0,r.jsx)("img",{src:"https://img.shields.io/badge/-"+e+"-informational",alt:"Example (Click Here)"})]})}},50018:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"patterns/configuring_plugins","title":"Configuring Plugins","description":"Hydra plugins usually come with sensible defaults which work with minimal configuration.","source":"@site/docs/patterns/configuring_plugins.md","sourceDirName":"patterns","slug":"/patterns/configuring_plugins","permalink":"/docs/patterns/configuring_plugins","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/docs/patterns/configuring_plugins.md","tags":[],"version":"current","lastUpdatedBy":"Ryan Soklaski","lastUpdatedAt":1761331344000,"frontMatter":{"id":"configuring_plugins","title":"Configuring Plugins"},"sidebar":"docs","previous":{"title":"Configuring Experiments","permalink":"/docs/patterns/configuring_experiments"},"next":{"title":"Selecting multiple configs from a Config Group","permalink":"/docs/patterns/select_multiple_configs_from_config_group"}}');var s=i(74848),a=i(28453);i(49595);const r={id:"configuring_plugins",title:"Configuring Plugins"},t=void 0,c={},o=[{value:"Overriding in primary config",id:"overriding-in-primary-config",level:3},{value:"Extending plugin default config",id:"extending-plugin-default-config",level:3}];function d(n){const e={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"Hydra plugins usually come with sensible defaults which work with minimal configuration.\nThere are two primary ways to customize the configuration of a plugin:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Overriding it directly in your primary config"}),"\n",(0,s.jsx)(e.li,{children:"Extending the config and using it from your primary config."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"The first method is the simpler, but it makes it harder to switch to a different plugin configuration.\nThe second method is a bit more complicated, but makes it easier to switch between different plugin configurations."}),"\n",(0,s.jsxs)(e.p,{children:["The following methods apply to all Hydra plugins. In the following examples, we will configure an imaginary Launcher plugin\n",(0,s.jsx)(e.code,{children:"MoonLauncher"}),". The Launcher has two modes: ",(0,s.jsx)(e.code,{children:"falcon9"}),", which actually launches the application to the Moon and\n",(0,s.jsx)(e.code,{children:"sim"})," which simulates a launch."]}),"\n",(0,s.jsx)(e.p,{children:"The config schema for MoonLauncher looks like:"}),"\n",(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col col--6",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"@dataclass\nclass Falcon9Conf:\n  ton_fuel:  int = 10\n\n\n\n\n"})})}),(0,s.jsx)("div",{className:"col  col--6",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"@dataclass\nclass Simulation:\n  ton_fuel:  int = 10\n  window_size:\n    width: 1024\n    height: 768\n\n"})})})]}),"\n",(0,s.jsx)(e.h3,{id:"overriding-in-primary-config",children:"Overriding in primary config"}),"\n",(0,s.jsx)(e.p,{children:"We can directly override Launcher config in primary config."}),"\n",(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col col--4",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",metastring:'title="config.yaml" ',children:"a: 1\n\nhydra:\n  launcher:\n    ton_fuel: 2\n\n\n\n\n\n\n\n\n\n"})})}),(0,s.jsxs)("div",{className:"col col--4",children:[(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-commandline",metastring:'title="command-line override" ',children:"hydra/launcher=falcon9\n\n\n"})}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",metastring:'title="resulting launcher config"  {3}',children:"hydra:\n  launcher:\n    ton_fuel: 2\n\n\n\n"})})]}),(0,s.jsxs)("div",{className:"col col--4",children:[(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-commandline",metastring:'title="command-line override" ',children:"hydra/launcher=sim\n\n\n"})}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",metastring:'title="resulting launcher config"  {3}',children:"hydra:\n  launcher:\n    ton_fuel: 2\n    window_size:\n      width: 1024\n      height: 768\n"})})]})]}),"\n",(0,s.jsxs)(e.p,{children:["This approach makes the assumption that the Launcher used has all the fields we are overriding.\nIf we wanted to override a field that exists in the Simulation Launcher but not in the Falcon9 Launcher,\nlike ",(0,s.jsx)(e.code,{children:"window_size.width"}),", we would no longer be able to use the Falcon9 Launcher! The next section solves this problem."]}),"\n",(0,s.jsx)(e.h3,{id:"extending-plugin-default-config",children:"Extending plugin default config"}),"\n",(0,s.jsxs)(e.p,{children:["This section assumes that you are familiar with the contents of ",(0,s.jsx)(e.a,{href:"/docs/patterns/extending_configs",children:"Common Patterns/Extending Configs"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"Extending plugin default config has several advantages:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Separate configuration concerns, keep primary config clean."}),"\n",(0,s.jsx)(e.li,{children:"Easier to switch between different plugin configurations."}),"\n",(0,s.jsx)(e.li,{children:"Provides flexibility when a Plugin has different modes\nthat requires different schema."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Say that we want to override certain values for different Launcher mode:"}),"\n",(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col col--6",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",metastring:'title="hydra/launcher/my_falcon9.yaml" {4}',children:"defaults:\n  - falcon9\n\nton_fuel: 2\n\n\n"})})}),(0,s.jsx)("div",{className:"col col--6",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",metastring:'title="hydra/sweeper/my_sim.yaml" {5}',children:"defaults:\n  - sim\n\nwindow_size:\n  width: 768\n\n"})})})]}),"\n",(0,s.jsx)(e.p,{children:"We can easily user command-line overrides to get the configuration needed:"}),"\n",(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col col--6",children:[(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-commandline",metastring:'title="command-line override" ',children:"hydra/launcher=my_falcon9\n\n\n"})}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",metastring:'title="resulting launcher config"  {3}',children:"hydra:\n  launcher:\n    ton_fuel: 2\n\n\n\n"})})]}),(0,s.jsxs)("div",{className:"col col--6",children:[(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-commandline",metastring:'title="command-line override" ',children:"hydra/launcher=my_sim\n\n\n"})}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",metastring:'title="resulting launcher config"  {5}',children:"hydra:\n  launcher:\n    ton_fuel: 10\n    window_size:\n      width: 768\n      height: 768\n"})})]})]})]})}function h(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}}}]);