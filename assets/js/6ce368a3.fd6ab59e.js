"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7352],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var s=t(96540);const a={},o=s.createContext(a);function i(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(o.Provider,{value:n},e.children)}},77557:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"patterns/instantiate_objects/config_files","title":"Config files example","description":"Example application","source":"@site/versioned_docs/version-1.0/patterns/instantiate_objects/config_files.md","sourceDirName":"patterns/instantiate_objects","slug":"/patterns/instantiate_objects/config_files","permalink":"/docs/1.0/patterns/instantiate_objects/config_files","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/versioned_docs/version-1.0/patterns/instantiate_objects/config_files.md","tags":[],"version":"1.0","lastUpdatedBy":"Ryan Soklaski","lastUpdatedAt":1761331344000,"frontMatter":{"id":"config_files","title":"Config files example","sidebar_label":"Config files example"},"sidebar":"docs","previous":{"title":"Overview","permalink":"/docs/1.0/patterns/instantiate_objects/overview"},"next":{"title":"Structured Configs example","permalink":"/docs/1.0/patterns/instantiate_objects/structured_config"}}');var a=t(74848),o=t(28453);const i={id:"config_files",title:"Config files example",sidebar_label:"Config files example"},c=void 0,r={},l=[];function d(e){const n={a:"a",code:"code",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/facebookresearch/hydra/tree/1.0_branch/examples/patterns/instantiate_objects",children:(0,a.jsx)(n.img,{src:"https://img.shields.io/badge/-Example%20application-informational",alt:"Example application"})})}),"\n",(0,a.jsx)(n.p,{children:"This example demonstrates the use of config files to instantiated objects."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'class DBConnection:\n    def connect(self):\n        ...\n\nclass MySQLConnection(DBConnection):\n    def __init__(self, host: str, user: str, password: str) -> None:\n        self.host = host\n        self.user = user\n        self.password = password\n\n    def connect(self) -> None:\n        print(f"MySQL connecting to {self.host}")\n\n\nclass PostgreSQLConnection(DBConnection):\n    def __init__(self, host: str, user: str, password: str, database: str) -> None:\n        self.host = host\n        self.user = user\n        self.password = password\n        self.database = database\n\n    def connect(self) -> None:\n        print(f"PostgreSQL connecting to {self.host}")\n'})}),"\n",(0,a.jsx)(n.p,{children:"To support this, we can have a parallel config structure:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"conf/\n\u251c\u2500\u2500 config.yaml\n\u2514\u2500\u2500 db\n    \u251c\u2500\u2500 mysql.yaml\n    \u2514\u2500\u2500 postgresql.yaml\n"})}),"\n",(0,a.jsx)(n.p,{children:"Config files:"}),"\n",(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col col--6",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="db/mysql.yaml"',children:"# @package _group_\n_target_: my_app.MySQLConnection\nhost: localhost\nuser: root\npassword: 1234\n\n"})})}),(0,a.jsx)("div",{className:"col col--6",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="db/postgresql.yaml"',children:"# @package _group_\n_target_: my_app.PostgreSQLConnection\nhost: localhost\nuser: root\npassword: 1234\ndatabase: tutorial\n"})})})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="config.yaml"',children:"defaults:\n  - db: mysql\n"})}),"\n",(0,a.jsx)(n.p,{children:"With this, you can instantiate the object from the configuration with a single line of code:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@hydra.main(config_path="conf", config_name="config")\ndef my_app(cfg):\n    connection = hydra.utils.instantiate(cfg.db)\n    connection.connect()\n'})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);