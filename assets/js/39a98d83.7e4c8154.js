"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3393],{28453:(e,a,i)=>{i.d(a,{R:()=>t,x:()=>s});var n=i(96540);const c={},r=n.createContext(c);function t(e){const a=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),n.createElement(r.Provider,{value:a},e.children)}},73717:(e,a,i)=>{i.r(a),i.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"advanced/overriding_packages","title":"Overriding packages","description":"Example application","source":"@site/versioned_docs/version-1.0/advanced/overriding_packages.md","sourceDirName":"advanced","slug":"/advanced/overriding_packages","permalink":"/docs/1.0/advanced/overriding_packages","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/versioned_docs/version-1.0/advanced/overriding_packages.md","tags":[],"version":"1.0","lastUpdatedBy":"zhenbang-2026","lastUpdatedAt":1757109332000,"frontMatter":{"id":"overriding_packages","title":"Overriding packages"},"sidebar":"docs","previous":{"title":"Extended Override syntax","permalink":"/docs/1.0/advanced/override_grammar/extended"},"next":{"title":"Config Search Path","permalink":"/docs/1.0/advanced/search_path"}}');var c=i(74848),r=i(28453);const t={id:"overriding_packages",title:"Overriding packages"},s=void 0,l={},d=[{value:"Package specification",id:"package-specification",level:3},{value:"Overriding the package in a file via a package directive",id:"overriding-the-package-in-a-file-via-a-package-directive",level:3},{value:"Examples",id:"examples",level:4},{value:"A package directive with a literal",id:"a-package-directive-with-a-literal",level:5},{value:"A package directive with <code>_group_</code> and <code>_name_</code>",id:"a-package-directive-with-_group_-and-_name_",level:5},{value:"Overriding the package via the defaults list",id:"overriding-the-package-via-the-defaults-list",level:3},{value:"History and future of the package directive",id:"history-and-future-of-the-package-directive",level:3}];function o(e){const a={a:"a",br:"br",code:"code",h3:"h3",h4:"h4",h5:"h5",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.p,{children:(0,c.jsx)(a.a,{href:"https://github.com/facebookresearch/hydra/tree/1.0_branch/examples/advanced/package_overrides",children:(0,c.jsx)(a.img,{src:"https://img.shields.io/badge/-Example%20application-informational",alt:"Example application"})})}),"\n",(0,c.jsx)(a.p,{children:"The contents of a config file can be relocated, or replicated, within the config, via package overrides."}),"\n",(0,c.jsx)(a.h3,{id:"package-specification",children:"Package specification"}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-text",metastring:'title="Definition of a package"',children:"PACKAGE      : _global_ | COMPONENT[.COMPONENT]*\nCOMPONENT    : _group_ | _name_ | \\w+\n\n_global_     : the top level package (equivalent to the empty string).\n_group_      : the config group in dot notation: foo/bar/zoo.yaml -> foo.bar\n_name_       : the config file name: foo/bar/zoo.yaml -> zoo\n"})}),"\n",(0,c.jsx)(a.h3,{id:"overriding-the-package-in-a-file-via-a-package-directive",children:"Overriding the package in a file via a package directive"}),"\n",(0,c.jsxs)(a.p,{children:["A ",(0,c.jsx)(a.code,{children:"@package directive"})," specifies a common ",(0,c.jsx)(a.a,{href:"/docs/1.0/terminology#package",children:"package"})," for all nodes in the config file.\nIt must be placed at the top of each ",(0,c.jsx)(a.code,{children:"config group file"}),"."]}),"\n",(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-text",metastring:'title="Package directive examples"',children:"# @package foo.bar\n# @package _global_\n# @package _group_\n# @package _group_._name_\n# @package foo._group_._name_\n"})}),"\n",(0,c.jsx)(a.h4,{id:"examples",children:"Examples"}),"\n",(0,c.jsx)(a.h5,{id:"a-package-directive-with-a-literal",children:"A package directive with a literal"}),"\n",(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col col--6",children:(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-yaml",metastring:'title="mysql.yaml" {1-2}',children:"# @package foo.bar\n\ndb:\n  host: localhost\n  port: 3306\n"})})}),(0,c.jsx)("div",{className:"col  col--6",children:(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-yaml",metastring:'title="Interpretation" {1-2}',children:"foo:\n  bar:\n    db:\n      host: localhost\n      port: 3306\n"})})})]}),"\n",(0,c.jsxs)(a.h5,{id:"a-package-directive-with-_group_-and-_name_",children:["A package directive with ",(0,c.jsx)(a.code,{children:"_group_"})," and ",(0,c.jsx)(a.code,{children:"_name_"})]}),"\n",(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col col--6",children:(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-yaml",metastring:'title="db/mysql.yaml" {1-2}',children:"# @package _group_._name_\n\nhost: localhost\nport: 3306\n"})})}),(0,c.jsx)("div",{className:"col  col--6",children:(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-yaml",metastring:'title="Interpretation" {1-2}',children:"db:\n  mysql:\n    host: localhost\n    port: 3306\n"})})})]}),"\n",(0,c.jsx)(a.h3,{id:"overriding-the-package-via-the-defaults-list",children:"Overriding the package via the defaults list"}),"\n",(0,c.jsxs)(a.p,{children:["The following example adds the ",(0,c.jsx)(a.code,{children:"mysql"})," config in the packages ",(0,c.jsx)(a.code,{children:"db.src"})," and ",(0,c.jsx)(a.code,{children:"db.dst"}),"."]}),"\n",(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col col--6",children:(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-yaml",metastring:'title="config.yaml"',children:"defaults:\n - db@db.src: mysql\n - db@db.dst: mysql\n\n\n\n\n"})})}),(0,c.jsx)("div",{className:"col  col--6",children:(0,c.jsx)(a.pre,{children:(0,c.jsx)(a.code,{className:"language-yaml",metastring:'title="Interpretation"',children:"db:\n  src:\n    host: localhost\n    port: 3306\n  dst:\n    host: localhost\n    port: 3306\n"})})})]}),"\n",(0,c.jsx)(a.h3,{id:"history-and-future-of-the-package-directive",children:"History and future of the package directive"}),"\n",(0,c.jsxs)(a.p,{children:["The primary config, named in ",(0,c.jsx)(a.code,{children:"@hydra.main()"})," should not have a package directive."]}),"\n",(0,c.jsx)(a.p,{children:"For config files in config groups the default depends on the version:"}),"\n",(0,c.jsxs)(a.ul,{children:["\n",(0,c.jsxs)(a.li,{children:["In ",(0,c.jsx)(a.strong,{children:"Hydra 0.11"}),", there was an implicit default of ",(0,c.jsx)(a.code,{children:"_global_"})]}),"\n",(0,c.jsxs)(a.li,{children:[(0,c.jsx)(a.strong,{children:"Hydra 1.0"})," the default is ",(0,c.jsx)(a.code,{children:"_global_"}),(0,c.jsx)(a.br,{}),"\n","A warning is issued for each ",(0,c.jsx)(a.strong,{children:"config group file"})," without a ",(0,c.jsx)(a.code,{children:"@package"})," directive."]}),"\n",(0,c.jsxs)(a.li,{children:["In ",(0,c.jsx)(a.strong,{children:"Hydra 1.1"})," the default for ",(0,c.jsx)(a.strong,{children:"config group files"})," will become ",(0,c.jsx)(a.code,{children:"_group_"})]}),"\n"]}),"\n",(0,c.jsxs)(a.p,{children:["By adding an explicit ",(0,c.jsx)(a.code,{children:"@package"})," to your configs files, you guarantee that they",(0,c.jsx)(a.br,{}),"\n","will not break when you upgrade to Hydra 1.1."]})]})}function h(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,c.jsx)(a,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}}}]);