"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6273],{28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var l=s(96540);const t={},i=l.createContext(t);function a(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),l.createElement(i.Provider,{value:n},e.children)}},46913:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>g,frontMatter:()=>o,metadata:()=>l,toc:()=>m});const l=JSON.parse('{"id":"patterns/select_multiple_configs_from_config_group","title":"Selecting multiple configs from a Config Group","description":"Problem","source":"@site/docs/patterns/select_multiple_configs_from_config_group.md","sourceDirName":"patterns","slug":"/patterns/select_multiple_configs_from_config_group","permalink":"/docs/patterns/select_multiple_configs_from_config_group","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/docs/patterns/select_multiple_configs_from_config_group.md","tags":[],"version":"current","lastUpdatedBy":"Ryan Soklaski","lastUpdatedAt":1761331344000,"frontMatter":{"id":"select_multiple_configs_from_config_group","title":"Selecting multiple configs from a Config Group"},"sidebar":"docs","previous":{"title":"Configuring Plugins","permalink":"/docs/patterns/configuring_plugins"},"next":{"title":"Specializing configuration","permalink":"/docs/patterns/specializing_config"}}');var t=s(74848),i=s(28453),a=s(49595);const o={id:"select_multiple_configs_from_config_group",title:"Selecting multiple configs from a Config Group"},r=void 0,c={},m=[{value:"Problem",id:"problem",level:3},{value:"Solution",id:"solution",level:3},{value:"Example",id:"example",level:3},{value:"Overriding packages",id:"overriding-packages",level:3},{value:"Implementation considerations",id:"implementation-considerations",level:3}];function d(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.C,{text:"Example application",to:"examples/patterns/multi-select"}),"\n",(0,t.jsx)(n.h3,{id:"problem",children:"Problem"}),"\n",(0,t.jsx)(n.p,{children:"In some scenarios, one may need to select multiple configs from the same Config Group."}),"\n",(0,t.jsx)(n.h3,{id:"solution",children:"Solution"}),"\n",(0,t.jsx)(n.p,{children:"Use a list of config names as the value of the config group in the Defaults List or in the command line."}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.p,{children:"In this example, we configure a server. The server can host multiple websites at the same time."}),"\n",(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col col--4",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",metastring:'title="Config directory"',children:"\u251c\u2500\u2500 config.yaml\n\u2514\u2500\u2500 server\n    \u251c\u2500\u2500 apache.yaml\n    \u2514\u2500\u2500 site\n        \u251c\u2500\u2500 amazon.yaml\n        \u251c\u2500\u2500 fb.yaml\n        \u2514\u2500\u2500 google.yaml\n"})})}),(0,t.jsx)("div",{className:"col col--4",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="config.yaml"',children:"defaults:\n  - server/apache\n\n\n\n\n\n"})})}),(0,t.jsx)("div",{className:"col col--4",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="server/apache.yaml" {3,4}',children:"defaults:\n  - site:\n    - fb\n    - google\n\nhost: localhost\nport: 443\n"})})}),(0,t.jsx)("div",{className:"col col--4",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="server/site/amazon.yaml"',children:"amazon:\n  domain: amazon.com\n"})})}),(0,t.jsx)("div",{className:"col col--4",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="server/site/fb.yaml"',children:"fb:\n  domain: facebook.com\n"})})}),(0,t.jsx)("div",{className:"col col--4",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="server/site/google.yaml"',children:"google:\n  domain: google.com\n"})})})]}),"\n",(0,t.jsx)(n.p,{children:"Output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="$ python my_app.py" {3,5}',children:"server:\n  site:\n    fb:\n      domain: facebook.com\n    google:\n      domain: google.com\n  host: localhost\n  port: 443\n"})}),"\n",(0,t.jsx)(n.p,{children:"Override the selected sites from the command line by passing a list. e.g:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:"title=\"$ python my_app.py 'server/site=[google,amazon]'\" {3,5}",children:"server:\n  site:\n    google:\n      domain: google.com\n    amazon:\n      domain: amazon.com\n  host: localhost\n  port: 443\n"})}),"\n",(0,t.jsx)(n.h3,{id:"overriding-packages",children:"Overriding packages"}),"\n",(0,t.jsx)(n.p,{children:"You can relocate the package of all the configs in the list. e.g:"}),"\n",(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col col--6",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="server/apache.yaml" {2}',children:"defaults:\n  - site@https:\n    - fb\n    - google\n\n\n"})})}),(0,t.jsx)("div",{className:"col col--6",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="$ python my_app.py" {2}',children:"server:\n  https:\n    fb:\n      domain: facebook.com\n    google:\n      domain: google.com\n"})})})]}),"\n",(0,t.jsx)(n.p,{children:"When overriding the selected configs of config groups with overridden packages you need to use the package. e.g:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="$ python my_app.py server/site@server.https=amazon"',children:"server:\n  https:\n    amazon:\n      domain: amazon.com\n  host: localhost\n  port: 443\n"})}),"\n",(0,t.jsx)(n.h3,{id:"implementation-considerations",children:"Implementation considerations"}),"\n",(0,t.jsx)(n.p,{children:"A nested list in the Defaults List is interpreted as a list of non-overridable configs:"}),"\n",(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col col--6",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="server/apache.yaml" {3,4}',children:"defaults:\n  - site:\n    - fb\n    - google\n"})})}),(0,t.jsx)("div",{className:"col col--6",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="Equivalent to" {2,3}',children:"defaults:\n  - site/fb\n  - site/google\n\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["All default package for all the configs in ",(0,t.jsx)(n.code,{children:"server/site"})," is ",(0,t.jsx)(n.code,{children:"server.site"}),".\nThis example uses an explicit nesting level inside each of the website configs to prevent them stepping over one another:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="server/site/amazon.yaml" {1}',children:"amazon:\n  ...\n"})})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},49595:(e,n,s)=>{s.d(n,{A:()=>r,C:()=>c});s(96540);var l=s(28774),t=s(44586),i=s(48295),a=s(74848);function o(e){const n=(0,i.ir)();return(0,t.default)().siteConfig.customFields.githubLinkVersionToBaseUrl[n?.name??"current"]+e}function r(e){return(0,a.jsx)(l.default,{...e,to:o(e.to),target:"_blank"})}function c(e){const n=e.text??"Example (Click Here)";return(0,a.jsxs)(r,{...e,children:[(0,a.jsx)("span",{children:"\xa0"}),(0,a.jsx)("img",{src:"https://img.shields.io/badge/-"+n+"-informational",alt:"Example (Click Here)"})]})}}}]);