"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1572],{28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>o});var l=i(96540);const s={},t=l.createContext(s);function d(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),l.createElement(t.Provider,{value:n},e.children)}},49595:(e,n,i)=>{i.d(n,{A:()=>a,C:()=>r});i(96540);var l=i(28774),s=i(44586),t=i(48295),d=i(74848);function o(e){const n=(0,t.ir)();return(0,s.default)().siteConfig.customFields.githubLinkVersionToBaseUrl[n?.name??"current"]+e}function a(e){return(0,d.jsx)(l.default,{...e,to:o(e.to),target:"_blank"})}function r(e){const n=e.text??"Example (Click Here)";return(0,d.jsxs)(a,{...e,children:[(0,d.jsx)("span",{children:"\xa0"}),(0,d.jsx)("img",{src:"https://img.shields.io/badge/-"+n+"-informational",alt:"Example (Click Here)"})]})}},55988:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"advanced/plugins/develop","title":"Plugin development","description":"If you develop plugins, please join the Plugin developer announcement chat channel.","source":"@site/versioned_docs/version-1.1/advanced/plugins/develop.md","sourceDirName":"advanced/plugins","slug":"/advanced/plugins/develop","permalink":"/docs/1.1/advanced/plugins/develop","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/versioned_docs/version-1.1/advanced/plugins/develop.md","tags":[],"version":"1.1","lastUpdatedBy":"dependabot[bot]","lastUpdatedAt":1756143349000,"frontMatter":{"id":"develop","title":"Plugin development","sidebar_label":"Plugin development"},"sidebar":"docs","previous":{"title":"Plugins Overview","permalink":"/docs/1.1/advanced/plugins/overview"},"next":{"title":"Application packaging","permalink":"/docs/1.1/advanced/app_packaging"}}');var s=i(74848),t=i(28453),d=i(49595);const o={id:"develop",title:"Plugin development",sidebar_label:"Plugin development"},a=void 0,r={},c=[{value:"Plugin discovery process",id:"plugin-discovery-process",level:2},{value:"Getting started",id:"getting-started",level:2}];function p(e){const n={admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["If you develop plugins, please join the ",(0,s.jsx)("a",{href:"https://hydra-framework.zulipchat.com/#narrow/stream/233935-Hydra-plugin.20dev.20announcements",children:"Plugin developer announcement chat channel"}),"."]})}),"\n","\n",(0,s.jsx)(n.p,{children:"When developing Hydra plugins, keep the following things in mind:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Hydra plugins can be either a standalone Python package, or a part of your existing Python package.\nIn both cases - They should be in the namespace module ",(0,s.jsx)(n.code,{children:"hydra_plugins"})," (This is a top level module, Your plugin will ",(0,s.jsx)(n.strong,{children:"NOT"})," be discovered if you place it in ",(0,s.jsx)(n.code,{children:"mylib.hydra_plugins"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Do ",(0,s.jsx)(n.strong,{children:"NOT"})," place an ",(0,s.jsx)(n.code,{children:"__init__.py"})," file in ",(0,s.jsx)(n.code,{children:"hydra_plugins"})," (doing so may break other installed Hydra plugins)."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"plugin-discovery-process",children:"Plugin discovery process"}),"\n",(0,s.jsxs)(n.p,{children:["The plugin discovery process runs whenever Hydra starts. During plugin discovery, Hydra scans for plugins in all the submodules of ",(0,s.jsx)(n.code,{children:"hydra_plugins"}),". Hydra will import each module and look for plugins defined in that module.\nAny module under ",(0,s.jsx)(n.code,{children:"hydra_plugins"})," that is slow to import will slow down the startup of ",(0,s.jsx)(n.strong,{children:"ALL"})," Hydra applications.\nPlugins with expensive imports can exclude individual files from Hydra's plugin discovery process by prefixing them with ",(0,s.jsx)(n.code,{children:"_"})," (but not ",(0,s.jsx)(n.code,{children:"__"}),").\nFor example, the file ",(0,s.jsx)(n.code,{children:"_my_plugin_lib.py"})," would not be imported and scanned, while ",(0,s.jsx)(n.code,{children:"my_plugin_lib.py"})," would be."]}),"\n",(0,s.jsx)(n.h2,{id:"getting-started",children:"Getting started"}),"\n",(0,s.jsx)(n.p,{children:"The best way to get started developing a Hydra plugin is to base your new plugin on one of the example plugins:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Copy the subtree of the relevant ",(0,s.jsx)(d.A,{to:"examples/plugins",children:"example plugin"})," into a standalone project."]}),"\n",(0,s.jsxs)(n.li,{children:["Edit ",(0,s.jsx)(n.code,{children:"setup.py"}),", rename the plugin module, for example from ",(0,s.jsx)(n.code,{children:"hydra_plugins.example_xyz_plugin"})," to ",(0,s.jsx)(n.code,{children:"hydra_plugins.my_xyz_plugin"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Install the new plugin (Run this in the plugin directory: ",(0,s.jsx)(n.code,{children:"pip install -e ."}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Run the included example app and make sure that the plugin is discovered:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ python example/my_app.py --info plugins\nInstalled Hydra Plugins\n***********************\n        ...\n        Launcher:\n        ---------\n                MyLauncher\n        ...\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Run the example application to see that that your plugin is doing something."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"[Optional]"})," If you want the plugin be embedded in your existing application/library, move the ",(0,s.jsx)(n.code,{children:"hydra_plugins"})," directory\nand make sure that it's included as a namespace module in your final Python package. See the ",(0,s.jsx)(n.code,{children:"setup.py"}),"\nfile included with the example plugin for hints (typically this involves using ",(0,s.jsx)(n.code,{children:'find_namespace_packages(include=["hydra_plugins.*"])'}),")."]}),"\n",(0,s.jsx)(n.li,{children:"Hack on your plugin, Ensure that the recommended tests and any tests you want to add are passing."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);