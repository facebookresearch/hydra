"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4806],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var s=t(96540);const a={},o=s.createContext(a);function i(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(o.Provider,{value:n},e.children)}},49595:(e,n,t)=>{t.d(n,{A:()=>l,C:()=>r});t(96540);var s=t(28774),a=t(44586),o=t(48295),i=t(74848);function c(e){const n=(0,o.ir)();return(0,a.default)().siteConfig.customFields.githubLinkVersionToBaseUrl[n?.name??"current"]+e}function l(e){return(0,i.jsx)(s.default,{...e,to:c(e.to),target:"_blank"})}function r(e){const n=e.text??"Example (Click Here)";return(0,i.jsxs)(l,{...e,children:[(0,i.jsx)("span",{children:"\xa0"}),(0,i.jsx)("img",{src:"https://img.shields.io/badge/-"+n+"-informational",alt:"Example (Click Here)"})]})}},82161:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"advanced/instantiate_objects/config_files","title":"Config files example","description":"This example demonstrates the use of config files to instantiated objects.","source":"@site/docs/advanced/instantiate_objects/config_files.md","sourceDirName":"advanced/instantiate_objects","slug":"/advanced/instantiate_objects/config_files","permalink":"/docs/advanced/instantiate_objects/config_files","draft":false,"unlisted":false,"editUrl":"https://github.com/facebookresearch/hydra/edit/main/website/docs/advanced/instantiate_objects/config_files.md","tags":[],"version":"current","lastUpdatedBy":"Ryan Soklaski","lastUpdatedAt":1761331344000,"frontMatter":{"id":"config_files","title":"Config files example","sidebar_label":"Config files example"},"sidebar":"docs","previous":{"title":"Overview","permalink":"/docs/advanced/instantiate_objects/overview"},"next":{"title":"Structured Configs example","permalink":"/docs/advanced/instantiate_objects/structured_config"}}');var a=t(74848),o=t(28453),i=t(49595);const c={id:"config_files",title:"Config files example",sidebar_label:"Config files example"},l=void 0,r={},d=[];function f(e){const n={code:"code",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.C,{text:"Example applications",to:"examples/instantiate"}),"\n",(0,a.jsx)(n.p,{children:"This example demonstrates the use of config files to instantiated objects."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'class DBConnection:\n    def connect(self):\n        ...\n\nclass MySQLConnection(DBConnection):\n    def __init__(self, host: str, user: str, password: str) -> None:\n        self.host = host\n        self.user = user\n        self.password = password\n\n    def connect(self) -> None:\n        print(f"MySQL connecting to {self.host}")\n\n\nclass PostgreSQLConnection(DBConnection):\n    def __init__(self, host: str, user: str, password: str, database: str) -> None:\n        self.host = host\n        self.user = user\n        self.password = password\n        self.database = database\n\n    def connect(self) -> None:\n        print(f"PostgreSQL connecting to {self.host}")\n'})}),"\n",(0,a.jsx)(n.p,{children:"To support this, we can have a parallel config structure:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"conf/\n\u251c\u2500\u2500 config.yaml\n\u2514\u2500\u2500 db\n    \u251c\u2500\u2500 mysql.yaml\n    \u2514\u2500\u2500 postgresql.yaml\n"})}),"\n",(0,a.jsx)(n.p,{children:"Config files:"}),"\n",(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col col--6",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="db/mysql.yaml"',children:"_target_: my_app.MySQLConnection\nhost: localhost\nuser: root\npassword: 1234\n\n"})})}),(0,a.jsx)("div",{className:"col col--6",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="db/postgresql.yaml"',children:"_target_: my_app.PostgreSQLConnection\nhost: localhost\nuser: root\npassword: 1234\ndatabase: tutorial\n"})})})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="config.yaml"',children:"defaults:\n  - db: mysql\n"})}),"\n",(0,a.jsx)(n.p,{children:"With this, you can instantiate the object from the configuration with a single line of code:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'@hydra.main(version_base=None, config_path="conf", config_name="config")\ndef my_app(cfg):\n    connection = hydra.utils.instantiate(cfg.db)\n    connection.connect()\n'})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(f,{...e})}):f(e)}}}]);